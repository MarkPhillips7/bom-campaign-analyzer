<template>
  <section class="au-animate">
    <h4 class="pull-right">Current Environment: <span class="bom-green">${environment}</span></h4>

    <div>
      <div show.bind="errorMessage">
        <div class="top-buffer"></div>
        <div class="alert alert-danger" role="alert"><strong>Yikes! </strong>
          <pre>${errorMessage}</pre>
        </div>
      </div>

      <div class="col-sm-3">
        <h2>BOM Campaign Analyzer</h2>
        <img src="dist/BomBaby.jpeg" class="img-rounded img-responsive">
      </div>

      <div class="col-sm-9">
        <div class="row">
          <h2 class="col-sm-5 col-sm-offset-2">Secure Login</h2>
        </div>

        <form class="form-horizontal" role="form" submit.delegate="login()">

          <div class="row">
            <h4 class="col-sm-5 col-sm-offset-2" if.bind="environment == 'Demo'">
              <span class="bom-green">Any username/password combination works in demo mode</span>
            </h4>
          </div>
          <div class="form-group ${usernameValidationClass}">
            <label class="col-sm-2 control-label" for="username">Username</label>

            <div class="col-sm-5">
             <input aurelia-autofocus value.bind="username" class="form-control" id="username" change.delegate="validate()">
            </div>

            <div class="col-sm-5">
          <span show.bind="usernameValidationClass === 'has-error'" id="usernameRequired"
                class="help-block">A username must be entered.</span>
            </div>
          </div>


          <div class="form-group ${passwordValidationClass}">
            <label class="col-sm-2 control-label" for="password">Password</label>

            <div class="col-sm-5">
              <input type="password" value.bind="password" class="form-control" id="password"
                     change.delegate="validate()">
            </div>

            <div class="col-sm-5">
          <span show.bind="passwordValidationClass === 'has-error'" id="passwordRequired"
                class="help-block">A password must be entered.</span>
            </div>
          </div>

          <div class="form-group">
            <div class="col-sm-2"></div>
            <div class="col-sm-5">
              <button type="submit" class="form-control btn btn-primary">Login</button>
            </div>
            <div show.bind="showValidationErrors && !isValid" class="col-sm-5 has-error">
              <div class="help-block" role="alert">Please make the required changes and try again.</div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>
</template>
